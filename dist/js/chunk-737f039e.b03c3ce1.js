(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-737f039e"],{"086f":function(e,a,t){"use strict";var i=t("6a0b");a["a"]={findAll:e=>i["a"].get("/usuarios",{params:e}),findAllNotPaged:()=>i["a"].get("/usuarios/all"),save:e=>i["a"].post("/usuarios",e),update:e=>i["a"].put("/usuarios",e),delete:e=>i["a"].delete("/usuarios/"+e)}},c10e:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-card",{attrs:{rounded:"0"}},[t("v-data-table",{staticClass:"elevation-1 rounded-t",attrs:{headers:e.headers,items:e.usuarios,"items-per-page":e.pageSize,loading:e.loading,search:e.search,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[t("v-toolbar",{staticClass:"blue-grey darken-3 rounded-t",attrs:{flat:""}},[t("v-toolbar-title",{staticClass:"white--text"},[e._v("Usuários")]),t("v-divider",{staticClass:"mx-4 white",attrs:{inset:"",vertical:""}}),t("v-text-field",{staticClass:"white--text",attrs:{"append-icon":"mdi-magnify",label:"Procurar...","single-line":"","hide-details":"",dark:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),t("v-spacer"),t("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"blue-grey",dark:""}},"v-btn",o,!1),i),[e._v(" Novo Usuário ")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("v-card-title",{staticClass:"blue-grey darken-3"},[t("span",{staticClass:"text-h5 white--text"},[e._v(e._s(e.formTitle))])]),t("v-card-text",[t("v-form",{ref:"form"},[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Nome",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax40],outlined:"",hint:"Digite o nome da usuario",color:"blue-grey",counter:"40"},model:{value:e.usuario.nome,callback:function(a){e.$set(e.usuario,"nome",a)},expression:"usuario.nome"}})],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Cidade",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax40],outlined:"",color:"blue-grey",hint:"Digite a cidade da usuario",counter:"40"},model:{value:e.usuario.cidade,callback:function(a){e.$set(e.usuario,"cidade",a)},expression:"usuario.cidade"}})],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Endereço",rules:[e.rules.required,e.rules.counterMin,e.rules.counterMax50],outlined:"",color:"blue-grey",hint:"Digite o endereço do usuario",counter:"50"},model:{value:e.usuario.endereco,callback:function(a){e.$set(e.usuario,"endereco",a)},expression:"usuario.endereco"}})],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Email",rules:[e.rules.email,e.rules.counterMax50],outlined:"",color:"blue-grey",hint:"Digite o e-mail da usuario",counter:"50"},model:{value:e.usuario.email,callback:function(a){e.$set(e.usuario,"email",a)},expression:"usuario.email"}})],1)],1)],1)],1)],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.save}},[e._v(" Salvar ")])],1)],1)],1),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(a){e.dialogDelete=a},expression:"dialogDelete"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("Você realmente deseja excluir esse item?")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Confirmar")]),t("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(a){var i=a.item;return[t("v-icon",{staticClass:"mr-2",attrs:{size:"20"},on:{click:function(a){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t("v-icon",{attrs:{size:"20"},on:{click:function(a){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1),t("v-divider"),t("v-card",{attrs:{color:"blue-grey darken-3 rounded-b",rounded:"0"}},[t("v-col",{attrs:{cols:"12"}},[t("v-row",[t("v-col",{attrs:{cols:"4",sm:"4"}},[t("v-select",{attrs:{items:e.pageSizes,label:"Items por Página",color:"white","item-color":"blue-grey",dark:"",outlined:""},on:{change:e.handlePageSizeChange},model:{value:e.pageSize,callback:function(a){e.pageSize=a},expression:"pageSize"}})],1),t("v-col",{attrs:{cols:"12",sm:"8"}},[t("v-pagination",{attrs:{length:e.totalPages,"total-visible":"7","next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",color:"blue-grey"},on:{input:e.handlePageChange},model:{value:e.page,callback:function(a){e.page=a},expression:"page"}})],1)],1)],1)],1)],1)},o=[],s=t("086f"),r={name:"App",data:()=>({dialog:!1,dialogDelete:!1,loading:!0,search:"",usuarios:[],totalusuarios:0,page:1,totalPages:0,pageSize:5,pageSizes:[5,10,15],usuario:{id:null,nome:"",cidade:"",endereco:"",email:""},headers:[{text:"ID",align:"start",sortable:!0,value:"id"},{text:"Nome",value:"nome"},{text:"Cidade",value:"cidade"},{text:"Endereço",value:"endereco"},{text:"Email",value:"email"},{text:"Ações",value:"actions",sortable:!1}],rules:{required:e=>!!e||"Campo obrigatório",counterMin:e=>e&&e.length>=3||"No mínimo 3 caracteres",counterMax40:e=>e&&e.length<=40||"No máximo 40 caracteres",counterMax50:e=>e&&e.length<=50||"No máximo 50 caracteres",email:e=>{const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)||"E-mail invalido."}}}),computed:{formTitle(){return this.usuario.id?"Editar Usuário":"Novo Usuário"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},created(){this.initialize()},methods:{initialize(){this.loading=!0;const e=this.getRequestParams();s["a"].findAll(e).then(e=>{const{content:a,totalElements:t,totalPages:i}=e.data;this.usuarios=a,this.totalusuarios=t,this.totalPages=i,this.loading=!1})},getRequestParams(e,a){let t={};return e&&(t["page"]=e-1),a&&(t["size"]=a),t},handlePageChange(e){this.page=e,this.initialize()},handlePageSizeChange(e){this.pageSize=e,this.page=1,this.initialize()},editItem(e){this.usuario={...e},this.dialog=!0},deleteItem(e){this.usuario={...e},this.dialogDelete=!0},deleteItemConfirm(){s["a"].delete(this.usuario.id).then(()=>{Toast.fire("Usuário deletado com sucesso","","error"),this.usuario={},this.initialize()}).catch(e=>{this.$swal("Usuário não pode ser deletado","Esse usuário está vinculado a um aluguel","error")}),this.dialogDelete=!1},close(){this.dialog=!1,this.$refs.form.resetValidation(),this.dialog||(this.usuario={})},closeDelete(){this.dialogDelete=!1},save(){this.$refs.form.validate()&&(this.usuario.id?s["a"].update(this.usuario).then(()=>{Toast.fire("Usuário alterado com sucesso","","success"),this.usuario={},this.initialize()}):s["a"].save(this.usuario).then(()=>{Toast.fire("Usuário cadastrado com sucesso","","success"),this.usuario={},this.initialize()}),this.usuario={},this.close())}}},l=r,n=t("2877"),u=t("6544"),c=t.n(u),d=t("8336"),v=t("b0af"),g=t("99d9"),m=t("62ad"),h=t("a523"),p=t("8fea"),f=t("169a"),b=t("ce7e"),x=t("4bd4"),k=t("132d"),C=t("891e"),z=t("0fd9"),w=t("b974"),V=t("2fa4"),D=t("8654"),y=t("71d9"),_=t("2a7f"),S=Object(n["a"])(l,i,o,!1,null,null,null);a["default"]=S.exports;c()(S,{VBtn:d["a"],VCard:v["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:m["a"],VContainer:h["a"],VDataTable:p["a"],VDialog:f["a"],VDivider:b["a"],VForm:x["a"],VIcon:k["a"],VPagination:C["a"],VRow:z["a"],VSelect:w["a"],VSpacer:V["a"],VTextField:D["a"],VToolbar:y["a"],VToolbarTitle:_["a"]})}}]);
//# sourceMappingURL=chunk-737f039e.b03c3ce1.js.map